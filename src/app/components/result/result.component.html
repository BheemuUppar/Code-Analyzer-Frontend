<section class=" mx-auto mt-10 bg-gray-900 text-white p-6 rounded-xl shadow border border-gray-700">
  <h2 class="text-xl font-bold mb-4">Analysis Results</h2>

  <mat-accordion class="custom-expansion">
    @for(issue of codeAnalysis; track issue){
  <mat-expansion-panel>
      <mat-expansion-panel-header class="!bg-gray-800 rounded-md">
        <mat-panel-title class="text-white">
          <p class="text-sm text-slate-300 font-medium">{{issue.file}}</p>
        </mat-panel-title>
        <mat-panel-description class=" text-white flex items-center gap-2 justify-between">
          <p class="text-sm text-white">{{issue.issueName}}</p>
          <span class="bg-red-600 text-white px-2 py-1 text-xs rounded">{{issue.severity}}</span>
        </mat-panel-description>
      </mat-expansion-panel-header>

      <div class="text-sm text-slate-300 space-y-3 pt-2">
        <p><strong>Issue:</strong>{{issue.issue}} </p>

        <div>
          <strong>Original code:</strong>
          <pre class="bg-gray-700 text-slate-200 px-3 py-2 rounded mt-1 overflow-x-auto">
              {{issue.originalCode}}
          </pre>
        </div>

        <div>
          <strong>Suggested fix:</strong>
          <pre class="bg-gray-700 text-slate-200 px-3 py-2 rounded mt-1 overflow-x-auto">
{{issue.suggestedFix}}
 </pre>
        </div>

        <p>
          <strong>Explanation:</strong> 
          {{issue.explanation}}
        </p>
      </div>
    </mat-expansion-panel>
    }
  
  </mat-accordion>
</section>